## 🔗 [What’s the Difference Between localhost and 127.0.0.1?](https://medium.com/@znsfox/whats-the-difference-between-localhost-and-127-0-0-1-4102ba05d494)

### 🗓️ 번역 날짜: 2024.08.18

### 🧚 번역한 크루: 렛서(김다은)

---

## localhost와 127.0.0.1의 차이점이 뭔가요?

> 제 아티클은 모두에게 열려 있습니다. 멤버십 구독자가 아닌 독자도 이 [링크](https://medium.com/@znsfox/whats-the-difference-between-localhost-and-127-0-0-1-4102ba05d494?sk=710822a2efc57a3679f6b1355e4031dd)를 클릭하면 전체 내용을 볼 수 있습니다.

프론트엔드 개발자가 로컬에서 디버깅할 때 종종 localhost와 상호작용하며 `npm run` 명령어를 실행하여 브라우저에서 열곤 합니다. 이때 주소창은 `http://localhost:xxx/index.html`를 표시합니다.

다수의 사람들은 아마 이 두가지의 차이점을 깊게 고민하지 않고 사용할 것입니다.

개발자들과 협업했던 제 과거를 돌아봐도, 개발자들이 이 둘에 대한 차이를 명확히 이해하지 못했기 때문에 이 주제에 대한 지식을 공유하는 것이 중요하다고 생각합니다.

<br/>

## localhost란?

localhost는 도메인 이름으로, 인터넷에서 접근 가능한 도메인 이름과 기억하기 쉽다는 점만 빼면 근본적으로 같습니다.

localhost의 스코프는 로컬 머신으로 제한됩니다. 그 이름에서도 알 수 있듯이, 'local'은 그 지역 내의 무언가를 의미합니다.

John Smith와 Jane Doe 모두 서로를 방해하지 않고 localhost를 사용해 개인 페이지의 내용에 접근할 수 있습니다.

<br/>

### 도메인 이름에서 프로그램까지

`localhost`를 제대로 이해하려면, 사용자가 도메인 이름을 통해 프로그램에 어떻게 접근하는지에 대해 이야기할 필요가 있습니다. 예시로 구글을 사용해 보겠습니다.

#### 1. 브라우저에 google.com를 입력하면, DNS에 IP 주소를 조회합니다.

왜 IP 주소라고 할까요? 단어 그대로, 누군가 당신의 택배를 회사로 보낼 때 운송장엔 회사의 주소, 이름, 그리고 다른 상세정보가 있을 겁니다. 배송 과정은 주소를 통해 라우팅되며, 궁극적으로 수신자에게 도달합니다. 네트워킹도 비슷합니다. 도메인 이름은 회사 이름과 같고, IP 주소는 물리적인 주소와 같습니다. 네트워킹 세계에서 IP 주소는 해당 프로그램을 찾는 데 필수적입니다.

DNS는 각 도메인에 해당하는 IP 주소를 나열하는 회사 폴더와 같은 역할을 합니다. 일부 도메인은 등록되지 않아 IP 주소를 찾을 수 없으며, 어떤 도메인들은 여러 개의 IP 주소를 가질 수도 있습니다. 이 경우 DNS는 특정 규칙에 따라 하나의 IP 주소를 자동으로 반환합니다. 도메인을 구매한 후, 도메인 서비스 제공업체는 일반적으로 DNS 해석 서비스를 제공하여 도메인과 해당 IP 주소를 DNS에 등록합니다.

이 IP 주소는 어디서 오는 걸까요? 모든 온라인 컴퓨터는 IP 주소를 가지고 있지만, 개인 컴퓨터의 IP는 대체로 공개 액세스에 적합하지 않습니다. 이는 마치 회사 내부 위치가 내부자에게는 명확하지만 외부인에게는 명확하지 않은 것과 비슷합니다. 구글과 같은 외부 서비스는 공용 IP 주소가 필요하며, 이는 보통 인터넷 서비스 제공업체에서 제공됩니다. 예를 들어, 회사가 China Unicom을 통해 인터넷에 접속하는 경우, 이 회사로부터 공용 IP 주소를 회사의 게이트웨이 서버에 할당받을 수 있습니다. 게이트웨이 서버는 모든 내부 네트워크 통신을 처리하는 교환기 같은 역할을 하며, 들어오는 요청을 적절한 서버로 라우팅하는 전달 규칙이 설정됩니다.

<br/>

#### 2. 브라우저는 IP 주소를 사용해 요청을 보내고, 운영체제를 통해 IP 패킷을 포장하고, 네트워크를 통해 운반합니다. 네트워크의 라우팅 프로토콜은 제공된 IP 주소를 기반으로 여러 라우터를 거쳐, 결국 해당 IP에 연결된 컴퓨터에 도달합니다.

#### 3. 여러 개의 네트워크 애플리케이션이 한 컴퓨터에서 배포될 수도 있습니다. 어떤 애플리케이션이 요청을 받아야 할까요? 여기서 포트가 중요한 역할을 합니다. 각 네트워크 애플리케이션은 하나 또는 여러 개의 포트와 연결될 수 있으며, 시스템은 중복을 방지합니다. 요청에서 포트를 지정하면 해당 포트에 연결된 올바른 네트워크 애플리케이션으로 요청이 전달됩니다.

하지만 우리가 구글에 접속할 때 구체적인 port를 사용하진 않습니다. 그것은 포트를 지정하지 않을 땐 HTTP는 80포트가, HTTPS는 443 포트가 기본 포트이기 때문입니다. 네트워크 프로그램을 실행할 때 포트 바인딩은 필수적이지만, 일부 프레임워크는 컴퓨터에서 사용되지 않은 포트를 자동으로 선택하기도 합니다.

![](https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zsrtu5qQka17pxeq)

<br/>

## localhost와 127.0.0.1는 뭐가 다를까요?

앞서 말한 기초 지식과 함께, 이 질문을 쉽게 이해할 수 있습니다.

처음에 말했듯 localhost는 도메인 이름입니다.

그럼 127.0.0.1은 뭘까요? IP 주소입니다. 현재 기기에 대한 로컬 IP주소이며, 해당 기기 안에서만 사용할 수 있습니다. 여러분의 컴퓨터는 인터넷에 연결하지 않고도 이 IP 주소를 사용하며 간편하게 네트워크 프로그램을 개발하고 테스트할 수 있게 합니다. 우리가 디버깅하는 프로그램은 이 IP 주소에 묶여 있습니다.

우리가 일반적으로 보는 IP 주소는 X.X.X.X 형식으로, 점으로 구분된 네 개의 세그먼트로 나누어져 있습니다. 실제로는 32비트 이진수로, 네 개의 8비트 세그먼트로 나누어지고, 이를 10진수로 변환하여 표시하는 것입니다.

그렇다면 `localhost`는 어떻게 127.0.0.1로 해석되는 걸까요? DNS를 거치는 걸까요? 아닙니다. 모든 컴퓨터는 DNS 해석 없이 `localhost`와 127.0.0.1을 사용할 수 있습니다.

이 해석은 각 컴퓨터에서 개별적으로 처리됩니다. 모든 컴퓨터에는 몇 가지 고정된 DNS 해석 규칙이 포함된 hosts 파일이 있으며, 여기에 `localhost`를 127.0.0.1로 해석하는 규칙이 포함되어 있습니다. 이는 하나의 관례입니다.

`localhost`를 사용하지 않고 다른 이름을 사용하는 것도 가능합니다. 예를 들어 `wodehost`라는 이름을 만들어 127.0.0.1로 해석하도록 설정할 수 있습니다.

심지어 `google.com`을 사용할 수도 있지만, 이는 오직 본인만을 위한 것이며 다른 사람에게는 영향을 미치지 않습니다.

<br/>

## 도메인 이름 계층

localhost는 www.jeujin.cn, google.com, 혹은 csdn.net처럼 우리가 흔히 사용하는 도메인 이름과 닮아보이진 않습니다. www, cn, com 그리고 net은 무엇을 의미할까요? 그리고 왜 localhost에는 이러한 것이 필요하지 않을까요?

도메인 이름은 계층구조로 되어 있으며, 최상위 도메인(TLD), 2차 도메인(SLD), 3차 도메인(3LD)으로 분류됩니다.

**최상위 도메인(TLD)**: 도메인 이름 시스템에서 가장 높은 수준으로, 도메인 이름의 가장 오른쪽에 위치하며, 보통 몇 글자로 이루어져 있습니다. TLD는 일반 최상위 도메인과 국가 코드 최상위 도메인으로 나뉩니다. 일반 최상위 도메인에는 상업적 기업을 위한 '.com', 네트워크 제공자를 위한 `.net` 비영리 단체를 위한 `.org` 등이 있으며, 국가 코드 최상위 도메인은 특정 국가나 지역을 나타내며 예를들어 중국의 `.cn`이나 영국의 `.uk`가 있습니다.

**2차 도메인(SLD)**: TLD 아래에 위치하며, 등록자가 선택하여 등록할 수 있는 개인화된 기억하기 쉬운 이름입니다. 예를 들어 `juejin.cn`은 2차 도메인입니다. 우리가 일반적으로 신청할 수 있는 것이 바로 이런 2차 도메인입니다. `.com`, `.net`, `.cn`과 같은 최상위 도메인의 중요성은 보통 간결성과 기억하기 쉬운 이름에 가려지는 경우가 많습니다.

**3차 도메인(3LD)**: 2차 도메인 아래에 있으며, 특정 서버나 서브넷을 가리키는 데 자주 사용됩니다. 예를 들어 `blog.example.com`에서 'blog'는 3차 도메인입니다. `www`는 가장 흔한 3차 도메인으로, 웹사이트의 홈페이지나 메인 사이트를 나타내지만, 이는 단순한 관례에 불과하며 요즘은 2차 도메인을 통한 직접 접속을 권장하는 사이트도 많습니다.

이 정의에 따르면 localhost는 현재 컴퓨터에만 접근하기 위해 예약된 도메인이라는 점에서 일종의 최상위 도메인으로 간주할 수 있습니다.

<br/>

## 하나의 IP와 포트를 공유하는 여러 웹사이트

앞서 언급했듯이, 서로 다른 네트워크 프로그램은 동일한 포트를 사용할 수 없지만, 이를 우회하는 방법이 있습니다.

개인 블로그가 인기를 끌던 시절, 많은 사람들이 가상 호스트를 구매하고 오픈 소스 블로깅 플랫폼을 배포하여 자신을 표현하기를 원했습니다. 가상 호스트 제공업체들은 수익을 내기 위해, 단일 컴퓨터에 많은 가상 호스트를 할당하여 모든 사용자가 기본 포트 80을 사용하여 도메인에 문제없이 접속할 수 있도록 했습니다. 어떻게 이런 일이 가능했을까요?

Nginx, Apache, 또는 IIS와 같은 웹 서버에 익숙하다면, 호스트 헤더(host header)라는 개념에 대해 들어본 적이 있을 것입니다. 호스트 헤더는 기본적으로 도메인 이름을 의미합니다. 호스트 헤더를 설정함으로써, 우리의 프로그램은 하나의 네트워크 포트를 공유할 수 있게 됩니다.

Nginx와 같은 웹 서버에서 웹사이트를 배포할 때, 우리는 도메인 이름을 호스트 헤더에 포함하도록 설정합니다.

Nginx와 다른 웹 서버가 시작될 때, 이들은 포트 80을 자신들이 사용할 수 있도록 확보합니다.

웹사이트 요청이 Nginx의 포트 80에 도달하면, Nginx는 요청에 포함된 도메인 이름을 기반으로 해당 호스트 헤더가 설정된 적절한 네트워크 프로그램을 식별합니다.

그런 다음 Nginx는 요청을 해당 네트워크 프로그램으로 전달하고, 필요한 경우 프로그램을 시작합니다.

![](https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1BLrFbAqtcQntXlL)

<br/>

## 사설 IP 주소

127.0.0.1 외에도 192.168.x.x와 같은 사설 IP 주소가 많이 있습니다. 이러한 사설 IP 주소는 주로 로컬 영역 네트워크(LAN) 내에서 사용되도록 예약되어 있는데, 이는 모든 컴퓨터에 고유한 IP 주소를 할당하는 것이 현실적으로 불가능하기 때문입니다. LAN 내에서 충돌이 없는 한, 이러한 주소들은 자유롭게 사용할 수 있습니다. 예를 들어, 여러분의 회사가 192.168.1.1을 사용할 수 있고, 저의 회사도 192.168.1.1을 사용할 수 있지만, 저의 회사 네트워크에 접근하려면 공용 IP 주소를 통해야 합니다.

일반적으로 사용되는 IPv4 사설 IP 주소 범위는 세 가지 클래스로 나뉩니다:

클래스 A: 10.0.0.0에서 10.255.255.255까지
클래스 B: 172.16.0.0에서 172.31.255.255까지
클래스 C: 192.168.0.0에서 192.168.255.255까지
이 사설 IP 주소들은 내부 네트워크 내에서만 사용하도록 되어 있으며, 공용 인터넷에서는 사용할 수 없습니다.

---

위에서 언급된 세 가지 사설 IPv4 주소 범위 외에도 몇 가지 예약된 IPv4 주소 범위가 있습니다:

127.0.0.0에서 127.255.255.255까지의 주소 범위는 루프백 테스트에 사용되며, 여기에는 질문에서 언급된 127.0.0.1 주소도 포함됩니다. 127.0.0.2와 같은 IP 주소를 할당할 수도 있으며, 이는 127.0.0.1과 동일하게 작동합니다.
169.254.0.0에서 169.254.255.255까지의 주소 범위는 로컬 네트워크 내에서 사용됩니다. 이 범위는 덜 흔히 접할 수 있는데, 만약 컴퓨터가 LAN에 연결되지 못할 경우, 이 IP 주소가 임시로 LAN 주소로 할당될 수 있습니다.
이 주소 범위들도 공용 인터넷에서는 사용할 수 없습니다.

또한, 덜 일반적인 전용 IPv4 주소 범위도 있습니다. IP 주소 범위의 완전한 정의는 다음 링크에서 확인할 수 있습니다: [www.iana.org/assignments](www.iana.org/assignments)

<br/>

## IPv6

IPv4 주소 공간이 부족하여 사용할 수 있는 주소가 너무 적기 때문에 도입된 IPv6에 대해서도 들어본 적이 있을 것입니다. 이론적으로 IPv6는 지구상의 모든 모래알에 IP 주소를 할당할 수 있을 정도로 방대한 주소 공간을 제공합니다. 수년간 IPv6에 대해 이야기되어 왔지만, 여전히 IPv4가 더 널리 사용되고 있습니다. 그 이유는 여러 가지가 있으며, 여기서는 다루지 않겠습니다.

IPv6 주소는 다음과 같이 생겼습니다: XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX:XXXX. 이는 128비트 길이로, 콜론으로 구분된 8개의 세그먼트로 나뉘며, 각 X는 0에서 F 사이의 16진수를 나타냅니다. IPv6 주소 공간은 IPv4에 비해 훨씬 큽니다. 예를 들어, 2001:0db8:3c4d:0015:0000:0000:1a2f:1a2b는 유효한 IPv6 주소입니다.

IPv6에 대한 추가 논의는 이 글의 범위를 벗어나지만, 관심이 있는 분들은 더 깊이 탐구해 볼 수 있습니다.
