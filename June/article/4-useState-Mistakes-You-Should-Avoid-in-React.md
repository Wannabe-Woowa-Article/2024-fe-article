## ğŸ”— [4 useState Mistakes You Should Avoid in ReactğŸš«](https://medium.com/gitconnected/4-usestate-mistakes-you-should-avoid-in-react-0d9d676869e2)

### ğŸ—“ï¸ ë²ˆì—­ ë‚ ì§œ: 2024.06.10

### ğŸ§š ë²ˆì—­í•œ í¬ë£¨: ì†Œí•˜(ìµœì†Œì—°)

---

## Reactì—ì„œ í”¼í•´ì•¼ í•  4ê°€ì§€ `useState` ì‹¤ìˆ˜ğŸš«

#### ì†Œê°œ

ë¦¬ì•¡íŠ¸(React.js)ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ ìƒíƒœ ê´€ë¦¬ì— ëŒ€í•œ ë…íŠ¹í•œ ì ‘ê·¼ ë°©ì‹ìœ¼ë¡œ í˜„ëŒ€ ì›¹ ê°œë°œì˜ ì´ˆì„ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ì¸ í›… ì¤‘ í•˜ë‚˜ì¸ useStateëŠ” ê¸°ë³¸ì ì´ì§€ë§Œ ì¢…ì¢… ì˜ëª» ì‚¬ìš©ë©ë‹ˆë‹¤. íš¨ìœ¨ì ì´ê³  ë²„ê·¸ ì—†ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ê³ ì í•˜ëŠ” ì´ˆë³´ìì™€ ê²½í—˜ì´ í’ë¶€í•œ ê°œë°œì ëª¨ë‘ì—ê²Œ ì´ëŸ¬í•œ ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ë¥¼ ì´í•´í•˜ê³  í”¼í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

ì´ ë¸”ë¡œê·¸ì—ì„œëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ useStateë¥¼ ì‚¬ìš©í•  ë•Œ í”¼í•´ì•¼ í•  ë„¤ ê°€ì§€ ì¤‘ìš”í•œ ì‹¤ìˆ˜ë¥¼ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. í•¨ê»˜ ë¦¬ì•¡íŠ¸ ê¸°ìˆ ì„ í–¥ìƒì‹œì¼œ ë´…ì‹œë‹¤!

ë³¸ê²©ì ìœ¼ë¡œ ì‚´í´ë³´ê¸° ì „ì— [ì œ ê°œì¸ ì›¹ì‚¬ì´íŠ¸](https://programwithjayanth.com/?source=post_page-----0d9d676869e2--------------------------------)ì—ì„œ ì›¹ ê°œë°œì— ëŒ€í•œ ë³´ë‹¤ ì‹¬ì¸µì ì¸ ê¸°ì‚¬ë¥¼ ì‚´í´ë³´ì„¸ìš”:

#### ì‹¤ìˆ˜ 1: ì´ì „ ìƒíƒœë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ ğŸ˜¨

Reactì˜ useState í›…ì„ ì‚¬ìš©í•  ë•Œ ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œ ì´ì „ ìƒíƒœë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠëŠ” ê²ƒì€ í”í•œ ì‹¤ìˆ˜ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‹¤ìˆ˜ëŠ” íŠ¹íˆ ë¹ ë¥¸ ë˜ëŠ” ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•  ë•Œ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì„ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### âŒ ë¬¸ì œ ì´í•´

Reactì—ì„œ ì¹´ìš´í„°ë¥¼ ë§Œë“ ë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ ì¹´ìš´íŠ¸ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤. ê°„ë‹¨í•œ ì ‘ê·¼ ë°©ë²•ì€ í˜„ì¬ ìƒíƒœ ê°’ì— 1ì„ ë”í•˜ëŠ” ê²ƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ê²ƒì€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import React, { useState } from 'react';

const CounterComponent = () => {
	const [counter, setCounter] = useState(0);

	const incrementCounter = () => {
		setCounter(counter + 1); // í•­ìƒ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
	};

	return (
		<div>
			<p>Counter: {counter}</p>
			<button onClick={incrementCounter}>Increment</button>
		</div>
	);
};

export default CounterComponent;
```

ìœ„ì˜ ì½”ë“œì—ì„œ incrementCounterëŠ” í˜„ì¬ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì¹´ìš´í„°ë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì´ê²ƒì€ ê°„ë‹¨í•´ ë³´ì´ì§€ë§Œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ReactëŠ” ì—¬ëŸ¬ setCounter í˜¸ì¶œì„ í•¨ê»˜ ë¬¶ê±°ë‚˜ ë‹¤ë¥¸ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ê°„ì„­í•˜ì—¬ ì¹´ìš´í„°ê°€ ë§¤ë²ˆ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### âœ… ìˆ˜ì •:

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ setCounter ë©”ì„œë“œì˜ í•¨ìˆ˜í˜•ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì´ ë²„ì „ì€ Reactê°€ ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœ ê°’ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í•­ìƒ ìµœì‹  ìƒíƒœ ê°’ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import React, { useState } from 'react';

const CounterComponent = () => {
	const [counter, setCounter] = useState(0);

	const incrementCounter = () => {
		setCounter((prevCounter) => prevCounter + 1); // ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœì— ë”°ë¼ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
	};

	return (
		<div>
			<p>Counter: {counter}</p>
			<button onClick={incrementCounter}>Increment</button>
		</div>
	);
};

export default CounterComponent;
```

ìˆ˜ì •ëœ ì½”ë“œì—ì„œëŠ” incrementCounterê°€ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœ(prevCounter)ë¥¼ ë°›ì•„ ì—…ë°ì´íŠ¸ëœ ìƒíƒœë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ì ‘ê·¼ ë°©ì‹ì€ íŠ¹íˆ ì—…ë°ì´íŠ¸ê°€ ë¹ ë¥´ê²Œ ì¼ì–´ë‚˜ê±°ë‚˜ ì—°ì†ì ìœ¼ë¡œ ì—¬ëŸ¬ ë²ˆ ë°œìƒí•  ë•Œ í›¨ì”¬ ë” ì‹ ë¢°ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

React JS ì‹¤ì‹œê°„ êµìœ¡ì— ê´€ì‹¬ì´ ìˆë‹¤ë©´ ìì„¸í•œ ë‚´ìš©ì€ ì €ì—ê²Œ ë¬¸ì˜í•´ ì£¼ì„¸ìš”.

#### ì‹¤ìˆ˜ 2: ìƒíƒœ ë¶ˆë³€ì„± ë¬´ì‹œ ğŸ§Š

#### âŒ ë¬¸ì œ ì´í•´

Reactì—ì„œëŠ” ìƒíƒœë¥¼ ë¶ˆë³€ìœ¼ë¡œ ì·¨ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤. í”í•œ ì‹¤ìˆ˜ëŠ” ê°ì²´ì™€ ë°°ì—´ê³¼ ê°™ì€ ë³µì¡í•œ ë°ì´í„° êµ¬ì¡°ë¡œ ìƒíƒœë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ìƒíƒœ ê°ì²´ì— ëŒ€í•œ ì˜ëª»ëœ ì ‘ê·¼ ë°©ì‹ì„ ê³ ë ¤í•´ ë´…ì‹œë‹¤:

```jsx
import React, { useState } from 'react';

const ProfileComponent = () => {
	const [profile, setProfile] = useState({ name: 'John', age: 30 });

	const updateAge = () => {
		profile.age = 31; // ì§ì ‘ ìƒíƒœ ìˆ˜ì •
		setProfile(profile);
	};

	return (
		<div>
			<p>Name: {profile.name}</p>
			<p>Age: {profile.age}</p>
			<button onClick={updateAge}>Update Age</button>
		</div>
	);
};

export default ProfileComponent;
```

ì´ ì½”ë“œëŠ” profile ê°ì²´ë¥¼ ì˜ëª» ìˆ˜ì •í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìˆ˜ì •ì€ ì¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•Šìœ¼ë©° ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ë™ì‘ì„ ì´ˆë˜í•©ë‹ˆë‹¤.

#### âœ… ìˆ˜ì •:

ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•  ë•ŒëŠ” í•­ìƒ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ìƒˆ ê°ì²´ ë˜ëŠ” ë°°ì—´ì„ ìƒì„±í•˜ì„¸ìš”. ì´ë¥¼ ìœ„í•´ ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

```jsx
import React, { useState } from 'react';

const ProfileComponent = () => {
	const [profile, setProfile] = useState({ name: 'John', age: 30 });

	const updateAge = () => {
		setProfile({ ...profile, age: 31 }); // ì˜¬ë°”ë¥´ê²Œ ìƒíƒœ ì—…ë°ì´íŠ¸
	};

	return (
		<div>
			<p>Name: {profile.name}</p>
			<p>Age: {profile.age}</p>
			<button onClick={updateAge}>Update Age</button>
		</div>
	);
};

export default ProfileComponent;
```

ìˆ˜ì •ëœ ì½”ë“œì—ì„œ updateAgeëŠ” ìƒíƒœ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì—…ë°ì´íŠ¸ëœ ë‚˜ì´ë¡œ ìƒˆ profile ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ì‹¤ìˆ˜ 3: ë¹„ë™ê¸° ì—…ë°ì´íŠ¸ ì´í•´ ë¶€ì¡± â³

#### âŒ ë¬¸ì œ ì´í•´

useStateë¥¼ í†µí•œ Reactì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ëŠ” ë¹„ë™ê¸°ì ì…ë‹ˆë‹¤. íŠ¹íˆ ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ë¹ ë¥¸ ì—°ì†ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ë•Œ, ì´ëŠ” ì¢…ì¢… í˜¼ë€ì„ ì´ˆë˜í•©ë‹ˆë‹¤. ê°œë°œìëŠ” setState í˜¸ì¶œ ì§í›„ ìƒíƒœê°€ ì¦‰ì‹œ ë³€ê²½ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” Reactê°€ ì„±ëŠ¥ìƒì˜ ì´ìœ ë¡œ ì´ëŸ¬í•œ ì—…ë°ì´íŠ¸ë¥¼ ì¼ê´„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì˜¤í•´ê°€ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

```jsx
import React, { useState } from 'react';

const AsyncCounterComponent = () => {
	const [count, setCount] = useState(0);

	const incrementCount = () => {
		setCount(count + 1);
		setCount(count + 1);
		// ê°œë°œìëŠ” countê°€ ë‘ ë²ˆ ì¦ê°€í•  ê²ƒì„ ì˜ˆìƒ
	};

	return (
		<div>
			<p>Count: {count}</p>
			<button onClick={incrementCount}>Increment Count</button>
		</div>
	);
};

export default AsyncCounterComponent;
```

ì´ ì˜ˆì œì—ì„œ ê°œë°œìëŠ” countë¥¼ ë‘ ë²ˆ ì¦ê°€ì‹œí‚¤ë ¤ê³  í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìƒíƒœ ì—…ë°ì´íŠ¸ì˜ ë¹„ë™ê¸°ì  íŠ¹ì„±ìœ¼ë¡œ ì¸í•´ ë‘ setCount í˜¸ì¶œì€ ëª¨ë‘ ë™ì¼í•œ ì´ˆê¸° ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë¯€ë¡œ countê°€ í•œ ë²ˆë§Œ ì¦ê°€í•©ë‹ˆë‹¤.

#### âœ… ìˆ˜ì •:

ë¹„ë™ê¸° ì—…ë°ì´íŠ¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬í•˜ë ¤ë©´ setCountì˜ í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ í˜•ì‹ì„ ì‚¬ìš©í•˜ì„¸ìš”. ì´ë ‡ê²Œ í•˜ë©´ ê° ì—…ë°ì´íŠ¸ê°€ ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤.

```jsx
import React, { useState } from 'react';

const AsyncCounterComponent = () => {
	const [count, setCount] = useState(0);

	const incrementCount = () => {
		setCount((prevCount) => prevCount + 1);
		setCount((prevCount) => prevCount + 1);
		// ì´ì œ ê° ì—…ë°ì´íŠ¸ëŠ” ê°€ì¥ ìµœê·¼ ìƒíƒœì— ì˜¬ë°”ë¥´ê²Œ ì˜ì¡´
	};
	// ì„ íƒì‚¬í•­: useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ì—…ë°ì´íŠ¸ ëœ ìƒíƒœ í™•ì¸
	useEffect(() => {
		console.log(count); // 2
	}, [count]);

	return (
		<div>
			<p>Count: {count}</p>
			<button onClick={incrementCount}>Increment Count</button>
		</div>
	);
};

export default AsyncCounterComponent;
```

ìœ„ì˜ ì½”ë“œì—ì„œ ê° setCount í˜¸ì¶œì€ ìƒíƒœì˜ ê°€ì¥ ìµœê·¼ ê°’ì„ ì‚¬ìš©í•˜ì—¬ ì •í™•í•˜ê³  ìˆœì°¨ì ì¸ ì—…ë°ì´íŠ¸ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤. íŠ¹íˆ ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ì—°ì†ì ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë°œìƒí•  ë•Œ í˜„ì¬ ìƒíƒœì— ì˜ì¡´í•˜ëŠ” ì‘ì—…ì—ëŠ” ì´ ì ‘ê·¼ ë°©ì‹ì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

#### ì‹¤ìˆ˜ 4: íŒŒìƒ ë°ì´í„°ì— ëŒ€í•œ ìƒíƒœ ì˜¤ìš© ğŸ“Š

#### âŒ ë¬¸ì œ ì´í•´

ê¸°ì¡´ ìƒíƒœ ë˜ëŠ” propsì—ì„œ íŒŒìƒ ë  ìˆ˜ ìˆëŠ” ë°ì´í„°ì— ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¹ˆë²ˆí•œ ì˜¤ë¥˜ì…ë‹ˆë‹¤. ì´ ì¤‘ë³µ ìƒíƒœëŠ” ë³µì¡í•˜ê³  ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´:

```jsx
import React, { useState } from 'react';

const GreetingComponent = ({ name }) => {
	const [greeting, setGreeting] = useState(`Hello, ${name}`);

	return <div>{greeting}</div>;
};

export default GreetingComponent;
```

ì—¬ê¸°ì„œ greeting ìƒíƒœëŠ” nameì—ì„œ ì§ì ‘ íŒŒìƒ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.

#### âœ… ìˆ˜ì •:

ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , ê¸°ì¡´ ìƒíƒœ ë˜ëŠ” propsì—ì„œ ë°ì´í„°ë¥¼ ì§ì ‘ íŒŒìƒì‹œí‚¤ì„¸ìš”.

```jsx
import React from 'react';

const GreetingComponent = ({ name }) => {
	const greeting = `Hello, ${name}`; // propsì—ì„œ ì§ì ‘ íŒŒìƒ

	return <div>{greeting}</div>;
};

export default GreetingComponent;
```

ìˆ˜ì •ëœ ì½”ë“œì—ì„œëŠ” greetingì€ name propì—ì„œ ì§ì ‘ ê³„ì‚°ë˜ë¯€ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¨ìˆœí™”ë˜ê³  ë¶ˆí•„ìš”í•œ ìƒíƒœ ê´€ë¦¬ë¥¼ í”¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ê²°ë¡  ğŸš€

Reactì—ì„œ useState í›…ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì‹ ë¢°ì„± ìˆê³  íš¨ìœ¨ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ì „ ìƒíƒœ ë¬´ì‹œ, ìƒíƒœ ë¶ˆë³€ì„± ê´€ë¦¬ ì˜¤ë¥˜, ë¹„ë™ê¸° ì—…ë°ì´íŠ¸ ê°„ê³¼, íŒŒìƒ ë°ì´í„°ì— ëŒ€í•œ ì¤‘ë³µ ìƒíƒœ ë°©ì§€ì™€ ê°™ì€ ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ë¥¼ ì´í•´í•˜ê³  í”¼í•¨ìœ¼ë¡œì¨ ë³´ë‹¤ ë§¤ë„ëŸ½ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ë™ì‘ì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì¸ì‚¬ì´íŠ¸ë¥¼ ì—¼ë‘ì— ë‘ê³  React ê°œë°œ ì—¬ì •ì„ í–¥ìƒì‹œí‚¤ê³  ë³´ë‹¤ ê²¬ê³ í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.

ì´ ê¸€ì´ ë§ˆìŒì— ë“œì…¨ë‚˜ìš”? ì›¹ ê°œë°œì— ëŒ€í•œ ì‹¬ì¸µì ì¸ í† ë¡ ê³¼ ì¸ì‚¬ì´íŠ¸ë¥¼ ë³´ë ¤ë©´ ì œ ê°œì¸ ë¸”ë¡œê·¸ì¸ <u>Program With Jayanth</u> ë¥¼ ë°©ë¬¸í•´ì£¼ì„¸ìš”.

Happy Coding!!
